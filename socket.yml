# socket.yml
# Socket.dev Configuration (v2)
# Documentation: https://docs.socket.dev/docs/socket-yml
#
# Purpose: Configure behavioral analysis of npm dependencies for supply chain attack detection
# This file defines:
# - Which paths to include/exclude from scanning
# - When to trigger scans based on file changes
# - Security policy decisions (BLOCK/WARN/MONITOR)
# - License compliance requirements

version: 2

# Exclude test fixtures and documentation from scanning
# Prevents false positives from test fixtures that may intentionally contain problematic dependencies
projectIgnorePaths:
  - "tests/**"
  - "docs/**"
  - "**/__tests__/**"
  - "**/fixtures/**"

# Only trigger scans when dependency files change
# Critical for monorepo efficiency: source code changes don't need dependency scanning
triggerPaths:
  - "package.json"
  - "**/package.json"
  - "pnpm-lock.yaml"
  - "socket.yml"

# Issue-specific rule configuration
# Default rules are enabled (malware, typosquatting)
# Uncomment to disable if false positives occur:
# issueRules:
#   unsafe-eval: false

# GitHub App integration for enhanced features
githubApp:
  enabled: true
  dependencyOverviewEnabled: true

# License compliance - block viral licenses
# These licenses require derivative works to be open-sourced, which may conflict with proprietary code
licensePolicies:
  deny:
    - "GPL-2.0-only"
    - "GPL-2.0-or-later"
    - "GPL-3.0-only"
    - "GPL-3.0-or-later"
    - "AGPL-3.0-only"
    - "AGPL-3.0-or-later"
