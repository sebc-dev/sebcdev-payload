# Linting & Formatting Guide

## Overview

This project uses ESLint for code quality and Prettier for formatting.
They are configured to work together without conflicts.

## Quick Commands

```bash
# Check linting
pnpm lint

# Check formatting
pnpm format:check

# Auto-fix formatting
pnpm format
```

## ESLint Configuration

- **Config file**: `eslint.config.mjs` (ESLint 9 Flat Config)
- **Extends**: `next/core-web-vitals`, `next/typescript`, `prettier`
- **Key rules**:
  - `@typescript-eslint/no-explicit-any`: warn
  - `@typescript-eslint/no-unused-vars`: warn (with `_` prefix ignore)

### Ignored Files

- `.next/` - Build output
- `src/payload-types.ts` - Generated by Payload
- `drizzle/migrations/` - Database migrations

## Prettier Configuration

- **Config file**: `prettier.config.mjs`
- **Plugins**: `prettier-plugin-tailwindcss`
- **Options**:
  - `semi: false` - No semicolons
  - `singleQuote: true` - Single quotes
  - `tabWidth: 2` - 2 spaces
  - `printWidth: 100` - Line width

### Tailwind Class Ordering

The Tailwind plugin automatically sorts CSS classes in a consistent order.

## IDE Integration

### VS Code

Install extensions:

- ESLint (`dbaeumer.vscode-eslint`)
- Prettier (`esbenp.prettier-vscode`)

Add to `.vscode/settings.json`:

```json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit"
  }
}
```

## Troubleshooting

### ESLint and Prettier Conflict

If you see conflicting errors:

1. Verify `eslint-config-prettier` is last in config
2. Run `pnpm lint` then `pnpm format`

### Slow ESLint

Enable caching:

```bash
pnpm exec eslint . --cache
```

### Unknown Rule Errors

Update ESLint packages:

```bash
pnpm add -D eslint@latest eslint-config-next@latest
```
